{% extends "package/read_base.html" %}

{% block subtitle %}{{ _('Activity Stream') }} {{ g.template_title_delimiter }} {{ super() }}{% endblock %}

{% block primary_content_inner %}
  {% if activity_types is defined %}
    {% snippet 'snippets/activity_type_selector.html', id=id, activity_type=activity_type, activity_types=activity_types, blueprint='dataset.activity' %}
  {% endif %}

  {% if activity_stream|length > 0 %}
    {% snippet 'snippets/stream.html', activity_stream=activity_stream, id=id, object_type='package' %}
  {% else %}
    <p>
      {% if activity_type %}
        {{ _('No activity found for this type') }}
      {% else %}
        {{ _('No activity found') }}.
      {% endif %}
    </p>
  {% endif %}

  {% snippet 'snippets/pagination.html', newer_activities_url=newer_activities_url, older_activities_url=older_activities_url %}

{% endblock %}

{% block links %}
  {% if h.dcat_endpoints_enabled() %}
      {% with endpoint=h.dcat_get_endpoint('dataset')  %}
          <link rel="alternate" type="application/ld+json" href="{{ h.url_for('dcat.read_dataset_jsonld', _id=id, profiles='schemaorg', qualified=True) }}"/>
          <link rel="alternate" type="text/n3" href="{{ h.url_for('dcat.read_dataset_n3', _id=id, qualified=True) }}"/>
          <link rel="alternate" type="text/turtle" href="{{ h.url_for('dcat.read_dataset_ttl', _id=id, qualified=True) }}"/>
          <link rel="alternate" type="application/rdf+xml" href="{{ h.url_for('dcat.read_dataset_xml', _id=id, qualified=True) }}"/>
      {% endwith %}
  {% endif %}
{% endblock %}

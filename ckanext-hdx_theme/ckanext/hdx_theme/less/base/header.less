/*
 *  --- AUTO-GENERATED ---
 * Please edit the LESS files
 */

@import "variables";
@import "fonts";
@import "base";
@import "mixins";

@import "pagination";
@import "tabs"; //used in a lot of places
@import "buttons";
@import "orderby";
@import "dataset-labels";

//Do remove :)
@import "deprecated";
@import "forms-deprecated";

@import "../search/list-header-search";
@import "forms";


@hdxLogoUrl: "@{imagePath}/homepage/logo-hdx.svg";

@headerNavHeight: 55px;
@headerNavBorderHeight: @navBorderHeight;
@headerNavBackgroundColor: @whiteColor;
@headerNavBorderColor: @lightGrayColor;
@headerNavSearchBorderColor: @grayColor;
@headerUserBackgroundColor: @darkGrayColor;

@searchPlaceholderColor: #dadada;
@searchTextColor: @blackColor;

@toolbarBackgroundColor: @extraLightGrayColor;
@toolbarHeight: 20px;

@mainLinksColor: @darkGrayColor;

@bodyBackgroundColor: @greenColor;
@bodyBackgroundUrl: "@{imagePath}/homepage/map.png";
@errorPageBackgroundUrl: "@{imagePath}/page404/pxel_bg.png";

/* Body Background */
    body {
      background-size: cover;
      background: @bodyBackgroundColor url(@bodyBackgroundUrl) fixed;
      min-width: 1260px;
      color: @grayColor;
      font-family: @sourceSansProFont;
    }
/* END Body Background */

.searchPlaceholderStyle(){
  color: @searchPlaceholderColor;
  .sourceSansProFont(400, 18px);
  line-height: 28px;
}

h1 {
  font-size: 28px;
}
h2 {
  font-size: 21px;
}
h3 {
  font-size: 18px;
}
h4 {
  font-size: 14px;
}
h1,
h2,
h3,
h4 {
  line-height: 1.5;
}
h1 small,
h2 small,
h3 small,
h4 small {
  font-size: 14px;
}

.newHeader{
  .header-user-box, .header-user-box > span > a {
    .gothamBoldFont(12px);
    .uppercase;
    //line-height: 25px;
    color: @extraLightGrayColor;
    i {
      display: none;
    }
  }

  .header-user-name {
    color: @orangeColor;
  }

  .header-nav-bg{
    background-color: @headerNavBackgroundColor;
  }

  .header-nav-border {
    border-bottom: @headerNavBorderHeight solid @headerNavBorderColor;
  }

  .header-nav {
    height: @headerNavHeight;

    .table-valign{
      height: @headerNavHeight;
    }
  }

  .header-user-bg{
    background-color: @headerUserBackgroundColor;
  }

  .submitData{
    /*Submit Data Button*/
    background-color: @orangeColor;
    border-radius: 6px;
    display: inline-block;
    padding: 10px 30px;

    .gothamBoldFont(14px);
    color: @whiteColor;
    .uppercase;
  }

  #feedback-button{
    /* Feedback Button */
    background-color: @grayColor;
    border-radius: 20px;
    padding: 10px 15px 10px;

    .gothamBoldFont(12px);
    line-height: 31px;
    .uppercase;
    color: @whiteColor;
    text-shadow: none;
    text-decoration: none;
  }

  .dropdown-menu{
    margin: 0;

    >li {
      >a:hover, >a:focus{
        color: @whiteColor;
        background-color: @blueColor;
        background-image: none;
      }
    }
  }

  .crises-menu {
    padding: 0;
    width: 250px;

    li.crises-group {
      text-transform: uppercase;
      color: @grayColor;
      .gothamBookFont(12px);
      padding: 10px 20px;
      border-bottom: 1px solid @extraLightGrayColor;

      &:last-child{
        border-bottom: none;
      }

      ul {
        padding: 0;
        list-style: none;
        text-transform: none;
        .sourceSansProFont(400, 14px);
        li {
          padding-top: 5px;
          font-size: 12px;
          a {
            color: @blackColor;
            font-size: 14px;
            &:hover{
              text-decoration: none;
            }
          }
          .crises-datasets {
            line-height: 1;
          }
        }

      }
    }
  }

}

/* HEADER Search Widget  */
.header-nav-search {
  height: @headerNavHeight;
  margin-left: 15px;
  width: 310px;

  border-bottom: @headerNavBorderHeight solid @headerNavSearchBorderColor;
  margin-bottom: -@headerNavBorderHeight;

  .header-search-form{
    margin: 0;
    padding: 0;

    .input-prepend{
      margin: 0;
    }

    .icon-search{
      margin: 0 20px;

      font-size: 20px;
      line-height: 28px;
    }

    .filter-icon{
      //margin-right: 20px;
      visibility: hidden;

      color: @blueColor;
      font-size: 20px;

      cursor: pointer;
    }

    input, input:focus {
      border: none;
      text-shadow: none;
      box-shadow: none;
      transition: none;
      width: 224px;
      margin: 0;
      padding: 0;
      height: 28px;
      background: transparent;

      .sourceSansProFont(400, 18px);
      line-height: 28px;
      outline: none;
      color: @searchTextColor;
    }

    input::-webkit-input-placeholder, input:-ms-input-placeholder{
      .searchPlaceholderStyle;
    }

    input:-moz-placeholder, input::-moz-placeholder{ //Firefox
      .searchPlaceholderStyle;
      opacity: 1;
    }
  }
}

//FIX THIS
.newHeader .header-nav .header-nav-search .header-search-form input::-webkit-input-placeholder {
  color: @searchPlaceholderColor;
  .sourceSansProFont(400, 18px);
  line-height: 28px;
}

/* HDX Version display */
  .hdxLogo {
    position: relative;
  }
  .logo {
    #hdxVersion{
      color: #888888;
      position: absolute;
      float: left;
      font-size: 10px;
      left: 99px;
      top: 27px;
      width: 0;
      display: none;
      line-height: 22px;
    }
    .logo-img:hover ~ #hdxVersion{
      display: block;
    }

    @logoImageHeight: 31px;
    @logoImageWidth: 126px;
    .logo-img {
      background-image: url(@hdxLogoUrl);
      background-repeat: no-repeat;
      background-size: @logoImageWidth @logoImageHeight;
      width: @logoImageWidth;
      height: @logoImageHeight;
      min-width: @logoImageWidth;
      min-height: @logoImageHeight;
    }
  }




/* END HDX Version display */


/* Style links inside header-nav, main navigation links */
.mainLinks.mainLinks-gray {
  > li {
    > a {
      .gothamBookFont(12px);
      color: @lightGrayColor;
      line-height: 1;

      &:hover, &:focus {
        color: @lightGrayColor;
      }
    }
  }
}
.mainLinks {
  padding-left: 20px;
  margin: 0;
  >li {
    display: inline;

    >a {
      margin-left: 15px;
      margin-top: 0;
      margin-bottom: 0;

      .gothamBoldFont(12px);
      color: @mainLinksColor;
      .letter-spacing-3;
      line-height: 31px;
      .uppercase;

      &:hover, &:focus {
        color: darken(@mainLinksColor, 20%);
      }
    }

    >a:after{
      content: "|";
      margin-left: 15px;
    }

    >a:focus {
      text-decoration: none;
      cursor: pointer;
    }
    .dropdown-menu a:hover{
      background-color: #FFFFFF;
      color: #333333;
      text-decoration: underline;
    }

    #crises-label:after {
      content: '\25bc';
      margin-left: 3px;
      font-size: 13px;
    }

  }

  >li:first-child > a {
    margin-left: 0;
  }

  >li:last-child > a:after {
    content: "";
    margin: 0;
  }
}

/* Style breadcrumbs */
.toolbarRow{
  background-color: @toolbarBackgroundColor;
  height: @toolbarHeight;

  .toolbar{
    margin: 0;
    padding: 0;

    .breadcrumb{
      border: none;
      background: none;
      margin: 0;
      padding: 0;
      .sourceSansProFont(400, 12px);
      line-height: @toolbarHeight;
      .uppercase;
      > li {
        text-shadow: none;
        &:after{
          content: " / ";
        }
        &.active {
          &:after{
            content: "";
          }
          a {
            color: @darkGrayColor;
            font-weight: bold;
          }
        }
        a {
          color: @darkGrayColor;
        }
      }
      > li + li::before {
        content: "";
        padding: 0;
      }
    }
  }
}
/* END Style breadcrumbs */

/* Style Caret */
.caret{
    border-left: 9px solid transparent;
    border-right: 9px solid transparent;
    border-top: 9px solid @defaultLinkColor;
    vertical-align: top;
}
/* END Style Caret */

//special offset hack class
.offset1andHalf{
  margin-left: 12.5% !important; //should be able to override spanX
}

/* Customize fixed Bootstrap layout -- ugly hacking :) */
    .container,
    .navbar-static-top .container,
    .navbar-fixed-top .container,
    .navbar-fixed-bottom .container {
        width: @containerRealSize;
        padding: 0;
    }

    .paddingRowHack{
        margin-left: -@containerMarginSize;
        margin-right: -@containerMarginSize;
    }

    .paddingRowHack .paddingLeftHack{
        padding-left: @containerMarginSize;
        margin-left: 0;
    }

    .paddingRowHack .paddingRightHack{
        padding-right: @containerMarginSize;
        margin-right: 0;
    }
    body{
        line-height: 20px;
    }
/* END - Customize fixed Bootstrap layout */

/* Style default Primary */
    [role=main] .primary{
        width: 100%;
        float: none;
        padding-left: 0;
    }

    [role=main] .secondary{
        margin: 0;
        padding-right: @gutterSmallSize; /* mimic the left 45 padding */
        width: 100%;
        color: #ffffff;
    }


    .secondary input{
      color: #333;
    }

/* END Style default Primary */

/* Change the default style for ul items */
    ul.hdx-bs3 {
        padding-left: 0;
        list-style-type: none;
    }

    /* Style pagination */
        .pagination {
          display: block;
          text-align: center;
          height: @containerMarginSize;
        }
    /* END Style pagination */
/* END Change the default style for ul items */

/* Missing styles due to removal of BS 2.3 + other fixes */
    .uppercase{
        text-transform: uppercase;
    }

    .form-actions{
        margin-right: 0;
    }

    .nav > li > a:hover, .nav > li > a:focus{
        background: none;
    }
/* END Missing styles due to removal of BS 2.3 */

/* Fix search widget */
    /* Fix size due to different box-sizing */
    .form-search .input-append .searchInput {
        width: 266px;
        float: left;
    }
    /* Fix button position */
    .form-search .input-append .input-group-addon {
        padding: 0;
        border: none;
        float: left;
    }
/* END Fix search widget */


/* Utility classes */
    .whiteBackground{
        background-color: #ffffff;
    }
/* END Utility classes */
/* Style Select2 Dropdown */
    .select2-container .select2-choice .select2-arrow{
        width: 42px;
    }
/* END Style Select2 Dropdown */

/* Fix header styles */
    .newHeader .header-nav .header-nav-search{
        height: 58px;
    }
/* END Fix header styles */

/* Social widget - share */
    .resource-social a {
        line-height: 31px;
        vertical-align: middle;
        display: block;
        margin-bottom: 5px;
    }
    .resource-social a i {
        font-size: 31px;
        width: 31px;
        padding-right: 5px;
        vertical-align: middle;
    }
    .resource-social a span {
        font-size: 14px;
        vertical-align: middle;
        line-height: 25px;
    }
    .resource-social a:hover {
        text-decoration:none;
    }
/**/



/* search_form.html customisations */
    .list-items.search-form {
        border-bottom: none;
        margin: 0;
        padding: 0;

        h2 {
          font-family: 'Source Sans Pro', sans-serif;
          font-size: 16px;
          font-weight: 400;
        }
        .search-input.search-giant input {
    		border-radius: 14px;
            background-color: #ffffff;
            border: 1px solid #cccccc;
        }
        .search-input {
    	    margin-bottom: 25px;
        }
    }

/* END search_form.html customisations */

/* Style Modal Dialogs */
@import "../widget/onboarding/notification-mixins";

.modal.in {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;

  //background-color: rgba(1,1,1,0.3);
  z-index: 1041;
  @notificationPaddingSize: 20px;
  @notificationLineHeight: 20px;
  @notificationTitleHeight: 2*@notificationPaddingSize + @notificationLineHeight;


  .modal-dialog{
    position: fixed;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    -ms-transform: translate(-50%, -50%); /* IE 9 */
    -webkit-transform: translate(-50%, -50%); /* Safari */
    width: initial;

    @modalContentHeight: 360px;
    .modal-content{
      min-width: 370px;
      min-height: @modalContentHeight;

      .notification-widget-style();
      .modal-header{
        .notification-title-style();
      }
      .modal-body{
        min-height: @modalContentHeight - 65px - 102px;

        padding: 30px 30px 0;
        .nav-tabs {
          border-color: @lightGrayColor;
          h4{
            margin: 0;
          }
        }

        input[type="text"]{
          height: 44px;
          line-height: 14px;
          border-color: #ffffff;
          box-shadow: none;
          padding-left: 15px;
          font-size: 14px;
          color: #000000;
          border-radius: 3px;
          border: 1px solid #ffffff;

          &:disabled{
            background-color: @extraLightGrayColor;
          }
        }
      }
      .modal-footer{
        padding: 30px;
        box-shadow: none;
        border-top: none;

        position: relative;
        bottom: 0;
        right: 0;

        .btn-large {
          min-width: 150px;
          &.btn-empty {
            min-width: 0;
            margin-right: 30px;
            color: @blackColor;
          }

        }

      }
    }
  }
}
/* END Style Modal Dialogs */

/* Style placeholders */
  ::-webkit-input-placeholder {
    color: #cccccc;
    font-size: 16px;
    font-family: 'Source Sans Pro', sans-serif;
    font-weight: 700;
  }

  :-moz-placeholder { /* Firefox 18- */
    color: #cccccc;
    font-size: 16px;
    font-family: 'Source Sans Pro', sans-serif;
    font-weight: 700;
    opacity: 1;
  }

  ::-moz-placeholder {  /* Firefox 19+ */
    color: #cccccc;
    font-size: 16px;
    font-family: 'Source Sans Pro', sans-serif;
    font-weight: 700;
    opacity: 1;
  }

  :-ms-input-placeholder {
    color: #cccccc;
    font-size: 16px;
    font-family: 'Source Sans Pro', sans-serif;
    font-weight: 700;
  }
/* END Style placeholders */


/* Style Dashboard - Newsfeed list */

.activity {
  margin: 10px 0;
  padding: 0;
  list-style-type: none;
  background: transparent url('../../../../base/images/dotted.png') 14px 0 repeat-y;

  .load-less{
    margin-bottom: 15px;
  }

  .item .actor .gravatar {
    position: absolute;
    top: 0;
    left: 40px;
    border-radius: 100px;
  }
}
/* END Style Dashboard - Newsfeed list */

.hide-heading {
    display: none;
}

/* Style Sysadmin settings*/
.user-list {
  margin: 0;
  list-style: none;

  li {
    margin: 0 0 10px 0;
  }

  .gravatar {
    vertical-align: -4px;
    margin-right: 3px;
    -webkit-border-radius: 100px;
    -moz-border-radius: 100px;
    border-radius: 100px;
  }
}
/* END Style Sysadmin settings*/

/* Actions button list */
.actions li {
  display: inline-block;
}
/* END - Actions button list */

.red {
  color: @redColor;
}

nav{
	&.mobile-only{
		display: none;
	}
}

@media(max-width: 767px) {
  body.home .search-ahead {
    width: 120%;
  }
}

/* Actions */
.base-actions-menu{
  @listMarginUnit: 16px;
  a.btn.hdx-btn {
    margin-left: 12px;
  }

  ul {
    list-style: none;
    li {
      line-height: @listMarginUnit;
      .sourceSansProFont(400, 14px);

      display: inline;
      margin-right: @listMarginUnit;

      &:last-child{
        margin-right: 0;
      }

      &:first-child:before {
        border: none;
      }

      &:before {
        content: "";
        border-left: 1px solid @grayColor;
        height: @listMarginUnit;
        margin-right: @listMarginUnit;
      }

      &.delete-override{
        a {
          color: @orangeColor;
          text-transform: none;
        }
      }

      a {
        i {
          margin-right: 5px;
        }
      }

      .direct-share-links{
        position: relative;
        bottom: -5px;
      }
    }
  }
}

/* END - Actions */

.no-margin{
  margin: 0;
}

#error-page {
  min-height: 400px;
  height: 70vh;
  background: url(@errorPageBackgroundUrl);
  background-size: 10px 20px;
  background-repeat: repeat;
  position: relative;

  .error-message-container {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 450px;
    text-align: center;
    color: @darkGrayColor;

    img {
      height: 90px;
    }

    h1 {
      .gothamBoldFont(18px);
      text-transform: uppercase;
      margin: 20px 0;
    }

    p {
      margin: 20px 0;
      .sourceSansProFont(400, 14px);
    }
  }
}

{% ckan_extends %}

{% block basic_fields %}
	{{ super() }}
	
	{% block basic_fields_uploader %}
		{% set username = request.environ.get('REMOTE_USER') %}
		{% if data.resource_uploader %}
			{% set resource_uploader = data.resource_uploader %}
		{% else %}
			{% set resource_uploader = username %}
		{% endif %}
		<div class="control-group">
	        <label class="control-label" for="field-uploader">{{ _('Uploader') }}</label>
	        <div class="controls">
				<input type="text" value="{{ username }}" name="resource_uploader" id="field-uploader" readonly="readonly" />
			</div>
		</div>
	{% endblock %}
	
	{% block basic_fields_source %}
	{{ form.input('source', id='field-source', label=_('Source'), placeholder=_('Enter the source(s) of the data'), value=data.source, error=errors.source, classes=['control-full']) }}
	{% endblock %}
	
	{% block basic_fields_caveats %}
	{{ form.markdown('caveats', id='field-caveats', label=_('Caveats'), placeholder=_('Caveats'), value=data.caveats, error=errors.caveats) }}
	{% endblock %}
{% endblock %}